<!--
$Id: userInputSpec.xml 1941 2009-08-07 18:35:17Z saksass $
$HeadURL: https://ncisvn.nci.nih.gov/svn/automation/branches/automation-1.7.4/software/bda-build-template/software/build/gui-installer/userInputSpec.xml $

Guide to this file:
	First off remember this is a template you will be changing it.  Our test project deploys both an application and a grid component on both Tomcat and JBoss.  You may only support JBoss and have no grid component, at which point you would delete Tomcat and grid related panels.  Or you have have 3 JBoss containers, two apps and one grid.  This would reuqire that you delete tomcat and copy the jboss sections 3 times.
	Second the fields in this file should match the fields in your install.properties.  Excluding hard coding things in properties-template/* you should have one field in here for every field in install.properties.  Also not that the install and upgrade properties file under properties template should also have all the properties in your master install.properties.  Also dynamic variables in gui-installer/install.xml should be reviewed.
	Third there is a correlation between the panels section in gui-installer/install.xml and this file.  A panel here should have a corresponding panel in the gui-installer/install.xml.  We also recommend putting acomment above the panel definition here and in the gui-installer/install.xml.  Also the panels seem to need to be sequential, when they are not numbered and called sequentially bad things seem to happen (not sure if this is only a problem with an older version or it happnes now).  So when you need insert a panel, you need to shift all panel numbers after the insertion down here and in the gui-installer/install.xml.  Let's say you have 5 panels and you want to insert  a new panel between 2 and 3.  You would insert the new panel as 3, then rename 3 to 4, 4 to 5 and 5 to 6 in both this file and the gui-installer/install.xml
	Lastly the creation of the jar will be successfull but when you click through the gui some or none of the custom panels will come up.  I have found this to be two things un-escaped characters in fields (see below) or impropertly formated xml.  I commit regularly when working on the file so I can use svn diff to identify bad edits I have made.  And a few times I have had to comment out half the file, build, and test the gui-installer, uncomment half more of the file and repeat until I find the area where things are broken.  If you have questions don't hesitate to contact the bda team at ncicbiitbda@mail.nih.gov, good luck :)

	quote (") 	&quot;
	apostrophe (') 	&apos;
	ampersand (&) 	&amp;
	less than (<) 	&lt;
	greater than (>) 	&gt;
-->

<userInput>
	<panel order="0">
		<field type="title" txt="Install or Upgrade software" bold="true" size="1" />
		<field type="staticText" align="left" txt="Choose Install if you haven't installed this appliation on this machine before. Choose Upgrade if this application has previously been installed. WARNING: When choosing Install, the installer will remove any previously installed application servers or databases installed based on the information you provide in the following screens, so be sure to backup your application server and database instance if they exist."/>
		<field type="divider" align="top"/>
		<field type="radio" variable="setup.type">
			<description align="left" txt="Choose a new Install or Upgrade an existing installation"/>
			<spec>
				<choice txt="Install" value="install" set="true" />
				<choice txt="Upgrade" value="upgrade" /> 
			</spec>
		</field>
	</panel>

	<!-- Select component -->
	<panel order="1">
		<field type="title" txt="Choose what to install" bold="true" size="1" />
		<field type="staticText" align="left" txt="Select whether you want to install or upgrade all components of this application, or just an individual component.  If you want to install components on different servers, select the one component on this machine and other components on other machines."/>
		<field type="staticText" align="left" txt="Note: If you click next on anything but everything, all values for other products will be blanked. If you use back and select another product you will loose default values and have to fail in every field.  If chose the wrong component exit the installer and run again."/>
		<field type="divider" align="top"/>
		<field type="radio" variable="install.selection">
			<description align="left" txt="Chose what to install"/>
			<spec>
				<choice txt="Everything" value="install.all" set="true" />
				<choice txt="JBoss" value="install.jboss" />
				<choice txt="Tomcat" value="install.tomcat" />
				<choice txt="Database - (must be run on JBoss machine)" value="install.database" />
			</spec>
		</field>
		<variable name="validation.pre.port.list" value=""/>
		<variable name="validation.post.http.list" value=""/>
		<variable name="validation.post.socket.list" value=""/>
	</panel>

	<!-- Upgrade, specify app homes and read properties -->
	<panel order="2">
		<field type="title" txt="Existing Locations" bold="true" size="1" />
		<field type="staticText" align="left" txt="Select the locations of the existing components that are installed. These values will be used to read the existing configuration of the components and pre-populate the following screens with the values from the existing install.  New properties that are part of this installation will have default values."/>
		<field type="divider" align="top"/>
		<field type="dir" variable="application.base.path">
			<spec txt="Application Root Directory:" size="25" set="c:/apps/bda"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Application Root Directory is a required field" />
		</field>
		<field type="dir" variable="jboss.home">
			<spec txt="JBoss Home:" size="25" set="c:/apps/bda/${jboss.binaries.relative.dir}"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="JBoss Home is a required field" />
		</field>
		<field type="dir" variable="tomcat.home">
			<spec txt="Tomcat Home:" size="25" set="c:/apps/bda/${tomcat.binaries.relative.dir}"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Tomcat Home is a required field" />
		</field>
		<field type="text" variable="jboss.server.name">
			<spec txt="JBoss Server name:" size="15" set="default"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="JBoss Server Name is a required field" />
		</field>
		<fileextractor>
			<extractfile filename="pre-install" toDirName="."/>
		</fileextractor>
		
	</panel>
	<!-- Upgrade container.all -->
	<panel order="3">
		<field type="title" txt="Reading property values from installations specified in previous screen." bold="true" size="1" />
		<panelreader classname="pre-install/install.xml" methodname="upgrade:common:init" language="ant">
			<inpropertymap inpropertyname="application.base.path" inpropertyvalue="application.base.path"/>
			<inpropertymap inpropertyname="jboss.home" inpropertyvalue="jboss.home"/>
			<inpropertymap inpropertyname="jboss.server.name" inpropertyvalue="jboss.server.name"/>
			<inpropertymap inpropertyname="tomcat.home" inpropertyvalue="tomcat.home"/>
			<propertymap propertyname="authentication.type" mapname="authentication.type"/>
			<propertymap propertyname="database.name" mapname="database.name"/>
			<propertymap propertyname="database.password" mapname="database.password"/>
			<propertymap propertyname="database.port" mapname="database.port"/>
			<propertymap propertyname="database.schema" mapname="database.schema"/>
			<propertymap propertyname="database.server" mapname="database.server"/>
			<propertymap propertyname="database.type" mapname="database.type"/>
			<propertymap propertyname="database.url" mapname="database.url"/>
			<propertymap propertyname="database.user" mapname="database.user"/>
			<propertymap propertyname="grid.index.url" mapname="grid.index.url"/>
			<propertymap propertyname="jboss.external.grid.secure.host" mapname="jboss.external.grid.secure.host"/>
			<propertymap propertyname="jboss.external.grid.secure.port" mapname="jboss.external.grid.secure.port"/>
			<propertymap propertyname="jboss.external.http.host" mapname="jboss.external.http.host"/>
			<propertymap propertyname="jboss.external.http.port" mapname="jboss.external.http.port"/>
			<propertymap propertyname="jboss.external.ssl.host" mapname="jboss.external.ssl.host"/>
			<propertymap propertyname="jboss.external.ssl.port" mapname="jboss.external.ssl.port"/>
			<propertymap propertyname="jboss.grid.secure.cert.file" mapname="jboss.grid.secure.cert.file"/>
			<propertymap propertyname="jboss.grid.secure.dir" mapname="jboss.grid.secure.dir"/>
			<propertymap propertyname="jboss.grid.secure.enable" mapname="jboss.grid.secure.enable"/>
			<propertymap propertyname="jboss.grid.secure.key.file" mapname="jboss.grid.secure.key.file"/>
			<propertymap propertyname="jboss.grid.secure.port" mapname="jboss.grid.secure.port"/>
			<propertymap propertyname="jboss.http-connector.remove" mapname="jboss.http-connector.remove"/>
			<propertymap propertyname="jboss.java.opts" mapname="jboss.java.opts"/>
			<propertymap propertyname="jboss.server.bindingfile.location" mapname="jboss.server.bindingfile.location"/>
			<propertymap propertyname="jboss.server.hostname" mapname="jboss.server.hostname"/>
			<propertymap propertyname="jboss.server.jndi.port" mapname="jboss.server.jndi.port"/>
			<propertymap propertyname="jboss.server.port" mapname="jboss.server.port"/>
			<propertymap propertyname="jboss.server.ports.name" mapname="jboss.server.ports.name"/>
			<propertymap propertyname="jboss.ssl.enable" mapname="jboss.ssl.enable"/>
			<propertymap propertyname="jboss.ssl.fullyqualified.hostname" mapname="jboss.ssl.fullyqualified.hostname"/>
			<propertymap propertyname="jboss.ssl.keystore.alias" mapname="jboss.ssl.keystore.alias"/>
			<propertymap propertyname="jboss.ssl.keystore.dir" mapname="jboss.ssl.keystore.dir"/>
			<propertymap propertyname="jboss.ssl.keystore.file" mapname="jboss.ssl.keystore.file"/>
			<propertymap propertyname="jboss.ssl.keystore.pass" mapname="jboss.ssl.keystore.pass"/>
			<propertymap propertyname="jboss.ssl.port" mapname="jboss.ssl.port"/>
			<propertymap propertyname="ldap.basedn" mapname="ldap.basedn"/>
			<propertymap propertyname="ldap.searchprefix" mapname="ldap.searchprefix"/>
			<propertymap propertyname="ldap.url" mapname="ldap.url"/>
			<propertymap propertyname="tomcat.external.grid.secure.host" mapname="tomcat.external.grid.secure.host"/>
			<propertymap propertyname="tomcat.external.grid.secure.port" mapname="tomcat.external.grid.secure.port"/>
			<propertymap propertyname="tomcat.external.http.host" mapname="tomcat.external.http.host"/>
			<propertymap propertyname="tomcat.external.http.port" mapname="tomcat.external.http.port"/>
			<propertymap propertyname="tomcat.external.ssl.host" mapname="tomcat.external.ssl.host"/>
			<propertymap propertyname="tomcat.external.ssl.port" mapname="tomcat.external.ssl.port"/>
			<propertymap propertyname="tomcat.grid.secure.cert.file" mapname="tomcat.grid.secure.cert.file"/>
			<propertymap propertyname="tomcat.grid.secure.enable" mapname="tomcat.grid.secure.enable"/>
			<propertymap propertyname="tomcat.grid.secure.key.file" mapname="tomcat.grid.secure.key.file"/>
			<propertymap propertyname="tomcat.grid.secure.port" mapname="tomcat.grid.secure.port"/>
			<propertymap propertyname="tomcat.http-connector.remove" mapname="tomcat.http-connector.remove"/>
			<propertymap propertyname="tomcat.hostname" mapname="tomcat.hostname"/>
			<propertymap propertyname="tomcat.port.ajp" mapname="tomcat.port.ajp"/>
			<propertymap propertyname="tomcat.port.http" mapname="tomcat.port.http"/>
			<propertymap propertyname="tomcat.port.shutdown" mapname="tomcat.port.shutdown"/>
			<propertymap propertyname="tomcat.port.ssl" mapname="tomcat.port.ssl"/>
			<propertymap propertyname="tomcat.ssl.enable" mapname="tomcat.ssl.enable"/>
			<propertymap propertyname="tomcat.ssl.fullyqualified.hostname" mapname="tomcat.ssl.fullyqualified.hostname"/>
			<propertymap propertyname="tomcat.ssl.keystore.alias" mapname="tomcat.ssl.keystore.alias"/>
			<propertymap propertyname="tomcat.ssl.keystore.file" mapname="tomcat.ssl.keystore.file"/>
			<propertymap propertyname="tomcat.ssl.keystore.pass" mapname="tomcat.ssl.keystore.pass"/>
			<propertymap propertyname="grid.poc.tech.researchCenter.displayname" mapname="grid.poc.tech.researchCenter.displayname"/>
			<propertymap propertyname="grid.poc.tech.researchCenter.shortname" mapname="grid.poc.tech.researchCenter.shortname"/>
			<propertymap propertyname="grid.poc.tech.addr.country" mapname="grid.poc.tech.addr.country"/>
			<propertymap propertyname="grid.poc.tech.addr.locality" mapname="grid.poc.tech.addr.locality"/>
			<propertymap propertyname="grid.poc.tech.addr.postalCode" mapname="grid.poc.tech.addr.postalCode"/>
			<propertymap propertyname="grid.poc.tech.addr.stateProvince" mapname="grid.poc.tech.addr.stateProvince"/>
			<propertymap propertyname="grid.poc.tech.addr.street1" mapname="grid.poc.tech.addr.street1"/>
			<propertymap propertyname="grid.poc.tech.addr.street2" mapname="grid.poc.tech.addr.street2"/>
			<propertymap propertyname="grid.poc.tech.affiliation" mapname="grid.poc.tech.affiliation"/>
			<propertymap propertyname="grid.poc.tech.name.last" mapname="grid.poc.tech.name.last"/>
			<propertymap propertyname="grid.poc.tech.name.first" mapname="grid.poc.tech.name.first"/>
			<propertymap propertyname="grid.poc.tech.phone" mapname="grid.poc.tech.phone"/>
			<propertymap propertyname="grid.poc.tech.email" mapname="grid.poc.tech.email"/>
			<propertymap propertyname="grid.poc.tech.role" mapname="grid.poc.tech.role"/>
			<propertymap propertyname="grid.poc.science.affiliation" mapname="grid.poc.science.affiliation"/>
			<propertymap propertyname="grid.poc.science.name.last" mapname="grid.poc.science.name.last"/>
			<propertymap propertyname="grid.poc.science.name.first" mapname="grid.poc.science.name.first"/>
			<propertymap propertyname="grid.poc.science.phone" mapname="grid.poc.science.phone"/>
			<propertymap propertyname="grid.poc.science.email" mapname="grid.poc.science.email"/>
			<propertymap propertyname="grid.poc.science.role" mapname="grid.poc.science.role"/>
			<propertymap propertyname="jboss.ejbinvoker.port" mapname="jboss.ejbinvoker.port"/>
			<propertymap propertyname="jboss.server.rmi.port" mapname="jboss.server.rmi.port"/>
			<propertymap propertyname="jboss.web.service.port" mapname="jboss.web.service.port"/>
			<propertymap propertyname="jboss.unifiedinvoker.port" mapname="jboss.unifiedinvoker.port"/>
			<propertymap propertyname="jboss.hajndi.auto.port" mapname="jboss.hajndi.auto.port"/>
			<propertymap propertyname="jboss.ssl.port" mapname="jboss.ssl.port"/>
			<propertymap propertyname="jboss.jms2.netty.port" mapname="jboss.jms2.netty.port"/>
			<propertymap propertyname="jboss.jms2.netty-ssl.port" mapname="jboss.jms2.netty-ssl.port"/>
			<propertymap propertyname="jboss.transaction.recovery.port" mapname="jboss.transaction.recovery.port"/>
			<propertymap propertyname="jboss.transaction.status.port" mapname="jboss.transaction.status.port"/>
			<propertymap propertyname="jboss.transaction.processid.port" mapname="jboss.transaction.processid.port"/>

			<propertymap propertyname="jboss.service.rmiobject.port" mapname="jboss.service.rmiobject.port"/>
			<propertymap propertyname="jboss.server.bind.port" mapname="jboss.server.bind.port"/>
			<propertymap propertyname="jboss.hajndi.port" mapname="jboss.hajndi.port"/>
			<propertymap propertyname="jboss.hajrmi.port" mapname="jboss.hajrmi.port"/>
			<propertymap propertyname="jboss.service.rmiobject.port" mapname="jboss.service.rmiobject.port"/>
			<propertymap propertyname="jboss.pooledha.port" mapname="jboss.pooledha.port"/>
			<propertymap propertyname="jboss.cobraorb.port" mapname="jboss.cobraorb.port"/>
			<propertymap propertyname="jboss.jmx-rmi.port" mapname="jboss.jmx-rmi.port"/>
			<propertymap propertyname="jboss.snmp-trapd.port" mapname="jboss.snmp-trapd.port"/>
			<propertymap propertyname="jboss.snmp.port" mapname="jboss.snmp.port"/>
			<propertymap propertyname="jboss.remoting.port" mapname="jboss.remoting.port"/>
			<propertymap propertyname="jboss.jms.port" mapname="jboss.jms.port"/>
			<propertymap propertyname="jboss.messaging.port" mapname="jboss.messaging.port"/>
			<propertymap propertyname="jboss.ssl.keystore.location" mapname="jboss.ssl.keystore.location"/>
			<propertymap propertyname="jboss.grid.secure.cert.location" mapname="jboss.grid.secure.cert.location"/>
			<propertymap propertyname="jboss.grid.secure.key.location" mapname="jboss.grid.secure.key.location"/>
			<propertymap propertyname="tomcat.ssl.keystore.location" mapname="tomcat.ssl.keystore.location"/>
			<propertymap propertyname="tomcat.grid.secure.cert.location" mapname="tomcat.grid.secure.cert.location"/>
			<propertymap propertyname="tomcat.grid.secure.key.location" mapname="tomcat.grid.secure.key.location"/>
		</panelreader>
		<variable name="validation.pre.port.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.server.port},${jboss.web.service.port}"/>
		<variable name="validation.post.http.list" value="${jboss.server.port}"/>
		<variable name="validation.post.socket.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.web.service.port}"/>
	</panel>
	<!-- Upgrade container.jboss -->
	<panel order="4">
		<field type="title" txt="Reading property values from installations specified in previous screen." bold="true" size="1" />
		<panelreader classname="pre-install/install.xml" methodname="upgrade:jboss:init" language="ant">
			<inpropertymap inpropertyname="application.base.path" inpropertyvalue="application.base.path"/>
			<inpropertymap inpropertyname="jboss.home" inpropertyvalue="jboss.home"/>
			<inpropertymap inpropertyname="jboss.server.name" inpropertyvalue="jboss.server.name"/>
			<propertymap propertyname="authentication.type" mapname="authentication.type"/>
			<propertymap propertyname="database.name" mapname="database.name"/>
			<propertymap propertyname="database.password" mapname="database.password"/>
			<propertymap propertyname="database.port" mapname="database.port"/>
			<propertymap propertyname="database.schema" mapname="database.schema"/>
			<propertymap propertyname="database.server" mapname="database.server"/>
			<propertymap propertyname="database.type" mapname="database.type"/>
			<propertymap propertyname="database.url" mapname="database.url"/>
			<propertymap propertyname="database.user" mapname="database.user"/>
			<propertymap propertyname="grid.index.url" mapname="grid.index.url"/>
			<propertymap propertyname="jboss.external.grid.secure.host" mapname="jboss.external.grid.secure.host"/>
			<propertymap propertyname="jboss.external.grid.secure.port" mapname="jboss.external.grid.secure.port"/>
			<propertymap propertyname="jboss.external.http.host" mapname="jboss.external.http.host"/>
			<propertymap propertyname="jboss.external.http.port" mapname="jboss.external.http.port"/>
			<propertymap propertyname="jboss.external.ssl.host" mapname="jboss.external.ssl.host"/>
			<propertymap propertyname="jboss.external.ssl.port" mapname="jboss.external.ssl.port"/>
			<propertymap propertyname="jboss.grid.secure.cert.file" mapname="jboss.grid.secure.cert.file"/>
			<propertymap propertyname="jboss.grid.secure.dir" mapname="jboss.grid.secure.dir"/>
			<propertymap propertyname="jboss.grid.secure.enable" mapname="jboss.grid.secure.enable"/>
			<propertymap propertyname="jboss.grid.secure.key.file" mapname="jboss.grid.secure.key.file"/>
			<propertymap propertyname="jboss.grid.secure.port" mapname="jboss.grid.secure.port"/>
			<propertymap propertyname="jboss.java.opts" mapname="jboss.java.opts"/>
			<propertymap propertyname="jboss.server.bindingfile.location" mapname="jboss.server.bindingfile.location"/>
			<propertymap propertyname="jboss.server.hostname" mapname="jboss.server.hostname"/>
			<propertymap propertyname="jboss.server.jndi.port" mapname="jboss.server.jndi.port"/>
			<propertymap propertyname="jboss.server.port" mapname="jboss.server.port"/>
			<propertymap propertyname="jboss.server.ports.name" mapname="jboss.server.ports.name"/>
			<propertymap propertyname="jboss.ssl.enable" mapname="jboss.ssl.enable"/>
			<propertymap propertyname="jboss.ssl.fullyqualified.hostname" mapname="jboss.ssl.fullyqualified.hostname"/>
			<propertymap propertyname="jboss.ssl.keystore.alias" mapname="jboss.ssl.keystore.alias"/>
			<propertymap propertyname="jboss.ssl.keystore.dir" mapname="jboss.ssl.keystore.dir"/>
			<propertymap propertyname="jboss.ssl.keystore.file" mapname="jboss.ssl.keystore.file"/>
			<propertymap propertyname="jboss.ssl.keystore.pass" mapname="jboss.ssl.keystore.pass"/>
			<propertymap propertyname="jboss.ssl.port" mapname="jboss.ssl.port"/>
			<propertymap propertyname="ldap.basedn" mapname="ldap.basedn"/>
			<propertymap propertyname="ldap.searchprefix" mapname="ldap.searchprefix"/>
			<propertymap propertyname="ldap.url" mapname="ldap.url"/>
			<propertymap propertyname="grid.poc.tech.researchCenter.displayname" mapname="grid.poc.tech.researchCenter.displayname"/>
			<propertymap propertyname="grid.poc.tech.researchCenter.shortname" mapname="grid.poc.tech.researchCenter.shortname"/>
			<propertymap propertyname="grid.poc.tech.addr.country" mapname="grid.poc.tech.addr.country"/>
			<propertymap propertyname="grid.poc.tech.addr.locality" mapname="grid.poc.tech.addr.locality"/>
			<propertymap propertyname="grid.poc.tech.addr.postalCode" mapname="grid.poc.tech.addr.postalCode"/>
			<propertymap propertyname="grid.poc.tech.addr.stateProvince" mapname="grid.poc.tech.addr.stateProvince"/>
			<propertymap propertyname="grid.poc.tech.addr.street1" mapname="grid.poc.tech.addr.street1"/>
			<propertymap propertyname="grid.poc.tech.addr.street2" mapname="grid.poc.tech.addr.street2"/>
			<propertymap propertyname="grid.poc.tech.affiliation" mapname="grid.poc.tech.affiliation"/>
			<propertymap propertyname="grid.poc.tech.name.last" mapname="grid.poc.tech.name.last"/>
			<propertymap propertyname="grid.poc.tech.name.first" mapname="grid.poc.tech.name.first"/>
			<propertymap propertyname="grid.poc.tech.phone" mapname="grid.poc.tech.phone"/>
			<propertymap propertyname="grid.poc.tech.email" mapname="grid.poc.tech.email"/>
			<propertymap propertyname="grid.poc.tech.role" mapname="grid.poc.tech.role"/>
			<propertymap propertyname="grid.poc.science.affiliation" mapname="grid.poc.science.affiliation"/>
			<propertymap propertyname="grid.poc.science.name.last" mapname="grid.poc.science.name.last"/>
			<propertymap propertyname="grid.poc.science.name.first" mapname="grid.poc.science.name.first"/>
			<propertymap propertyname="grid.poc.science.phone" mapname="grid.poc.science.phone"/>
			<propertymap propertyname="grid.poc.science.email" mapname="grid.poc.science.email"/>
			<propertymap propertyname="grid.poc.science.role" mapname="grid.poc.science.role"/>
			<propertymap propertyname="jboss.ejbinvoker.port" mapname="jboss.ejbinvoker.port"/>
			<propertymap propertyname="jboss.server.rmi.port" mapname="jboss.server.rmi.port"/>
			<propertymap propertyname="jboss.web.service.port" mapname="jboss.web.service.port"/>
			<propertymap propertyname="jboss.unifiedinvoker.port" mapname="jboss.unifiedinvoker.port"/>
			<propertymap propertyname="jboss.hajndi.auto.port" mapname="jboss.hajndi.auto.port"/>
			<propertymap propertyname="jboss.ssl.port" mapname="jboss.ssl.port"/>
			<propertymap propertyname="jboss.jms2.netty.port" mapname="jboss.jms2.netty.port"/>
			<propertymap propertyname="jboss.jms2.netty-ssl.port" mapname="jboss.jms2.netty-ssl.port"/>
			<propertymap propertyname="jboss.transaction.recovery.port" mapname="jboss.transaction.recovery.port"/>
			<propertymap propertyname="jboss.transaction.status.port" mapname="jboss.transaction.status.port"/>
			<propertymap propertyname="jboss.transaction.processid.port" mapname="jboss.transaction.processid.port"/>

			<propertymap propertyname="jboss.service.rmiobject.port" mapname="jboss.service.rmiobject.port"/>
			<propertymap propertyname="jboss.server.bind.port" mapname="jboss.server.bind.port"/>
			<propertymap propertyname="jboss.hajndi.port" mapname="jboss.hajndi.port"/>
			<propertymap propertyname="jboss.hajrmi.port" mapname="jboss.hajrmi.port"/>
			<propertymap propertyname="jboss.service.rmiobject.port" mapname="jboss.service.rmiobject.port"/>
			<propertymap propertyname="jboss.pooledha.port" mapname="jboss.pooledha.port"/>
			<propertymap propertyname="jboss.cobraorb.port" mapname="jboss.cobraorb.port"/>
			<propertymap propertyname="jboss.jmx-rmi.port" mapname="jboss.jmx-rmi.port"/>
			<propertymap propertyname="jboss.snmp-trapd.port" mapname="jboss.snmp-trapd.port"/>
			<propertymap propertyname="jboss.snmp.port" mapname="jboss.snmp.port"/>
			<propertymap propertyname="jboss.remoting.port" mapname="jboss.remoting.port"/>
			<propertymap propertyname="jboss.jms.port" mapname="jboss.jms.port"/>
			<propertymap propertyname="jboss.messaging.port" mapname="jboss.messaging.port"/>
			<propertymap propertyname="jboss.ssl.keystore.location" mapname="jboss.ssl.keystore.location"/>
			<propertymap propertyname="jboss.grid.secure.cert.location" mapname="jboss.grid.secure.cert.location"/>
			<propertymap propertyname="jboss.grid.secure.key.location" mapname="jboss.grid.secure.key.location"/>
		</panelreader>
		<variable name="validation.pre.port.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.server.port},${jboss.web.service.port}"/>
		<variable name="validation.post.http.list" value="${jboss.server.port}"/>
		<variable name="validation.post.socket.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.web.service.port}"/>
	</panel>
	<!-- Upgrade container.tomcat -->
	<panel order="5">
		<field type="title" txt="Reading property values from installations specified in previous screen." bold="true" size="1" />
		<panelreader classname="pre-install/install.xml" methodname="upgrade:tomcat:init" language="ant">
			<inpropertymap inpropertyname="application.base.path" inpropertyvalue="application.base.path"/>
			<inpropertymap inpropertyname="tomcat.home" inpropertyvalue="tomcat.home"/>
			<propertymap propertyname="database.name" mapname="database.name"/>
			<propertymap propertyname="database.password" mapname="database.password"/>
			<propertymap propertyname="database.port" mapname="database.port"/>
			<propertymap propertyname="database.schema" mapname="database.schema"/>
			<propertymap propertyname="database.server" mapname="database.server"/>
			<propertymap propertyname="database.type" mapname="database.type"/>
			<propertymap propertyname="database.url" mapname="database.url"/>
			<propertymap propertyname="database.user" mapname="database.user"/>
			<propertymap propertyname="grid.index.url" mapname="grid.index.url"/>
			<propertymap propertyname="tomcat.external.grid.secure.host" mapname="tomcat.external.grid.secure.host"/>
			<propertymap propertyname="tomcat.external.grid.secure.port" mapname="tomcat.external.grid.secure.port"/>
			<propertymap propertyname="tomcat.external.http.host" mapname="tomcat.external.http.host"/>
			<propertymap propertyname="tomcat.external.http.port" mapname="tomcat.external.http.port"/>
			<propertymap propertyname="tomcat.external.ssl.host" mapname="tomcat.external.ssl.host"/>
			<propertymap propertyname="tomcat.external.ssl.port" mapname="tomcat.external.ssl.port"/>
			<propertymap propertyname="tomcat.grid.secure.cert.file" mapname="tomcat.grid.secure.cert.file"/>
			<propertymap propertyname="tomcat.grid.secure.enable" mapname="tomcat.grid.secure.enable"/>
			<propertymap propertyname="tomcat.grid.secure.key.file" mapname="tomcat.grid.secure.key.file"/>
			<propertymap propertyname="tomcat.grid.secure.port" mapname="tomcat.grid.secure.port"/>
			<propertymap propertyname="tomcat.hostname" mapname="tomcat.hostname"/>
			<propertymap propertyname="tomcat.port.ajp" mapname="tomcat.port.ajp"/>
			<propertymap propertyname="tomcat.port.http" mapname="tomcat.port.http"/>
			<propertymap propertyname="tomcat.port.shutdown" mapname="tomcat.port.shutdown"/>
			<propertymap propertyname="tomcat.port.ssl" mapname="tomcat.port.ssl"/>
			<propertymap propertyname="tomcat.ssl.enable" mapname="tomcat.ssl.enable"/>
			<propertymap propertyname="tomcat.ssl.fullyqualified.hostname" mapname="tomcat.ssl.fullyqualified.hostname"/>
			<propertymap propertyname="tomcat.ssl.keystore.alias" mapname="tomcat.ssl.keystore.alias"/>
			<propertymap propertyname="tomcat.ssl.keystore.file" mapname="tomcat.ssl.keystore.file"/>
			<propertymap propertyname="tomcat.ssl.keystore.pass" mapname="tomcat.ssl.keystore.pass"/>
			<propertymap propertyname="grid.poc.tech.researchCenter.displayname" mapname="grid.poc.tech.researchCenter.displayname"/>
			<propertymap propertyname="grid.poc.tech.researchCenter.shortname" mapname="grid.poc.tech.researchCenter.shortname"/>
			<propertymap propertyname="grid.poc.tech.addr.country" mapname="grid.poc.tech.addr.country"/>
			<propertymap propertyname="grid.poc.tech.addr.locality" mapname="grid.poc.tech.addr.locality"/>
			<propertymap propertyname="grid.poc.tech.addr.postalCode" mapname="grid.poc.tech.addr.postalCode"/>
			<propertymap propertyname="grid.poc.tech.addr.stateProvince" mapname="grid.poc.tech.addr.stateProvince"/>
			<propertymap propertyname="grid.poc.tech.addr.street1" mapname="grid.poc.tech.addr.street1"/>
			<propertymap propertyname="grid.poc.tech.addr.street2" mapname="grid.poc.tech.addr.street2"/>
			<propertymap propertyname="grid.poc.tech.affiliation" mapname="grid.poc.tech.affiliation"/>
			<propertymap propertyname="grid.poc.tech.name.last" mapname="grid.poc.tech.name.last"/>
			<propertymap propertyname="grid.poc.tech.name.first" mapname="grid.poc.tech.name.first"/>
			<propertymap propertyname="grid.poc.tech.phone" mapname="grid.poc.tech.phone"/>
			<propertymap propertyname="grid.poc.tech.email" mapname="grid.poc.tech.email"/>
			<propertymap propertyname="grid.poc.tech.role" mapname="grid.poc.tech.role"/>
			<propertymap propertyname="grid.poc.science.affiliation" mapname="grid.poc.science.affiliation"/>
			<propertymap propertyname="grid.poc.science.name.last" mapname="grid.poc.science.name.last"/>
			<propertymap propertyname="grid.poc.science.name.first" mapname="grid.poc.science.name.first"/>
			<propertymap propertyname="grid.poc.science.phone" mapname="grid.poc.science.phone"/>
			<propertymap propertyname="grid.poc.science.email" mapname="grid.poc.science.email"/>
			<propertymap propertyname="grid.poc.science.role" mapname="grid.poc.science.role"/>
			<propertymap propertyname="tomcat.ssl.keystore.location" mapname="tomcat.ssl.keystore.location"/>
			<propertymap propertyname="tomcat.grid.secure.cert.location" mapname="tomcat.grid.secure.cert.location"/>
			<propertymap propertyname="tomcat.grid.secure.key.location" mapname="tomcat.grid.secure.key.location"/>
		</panelreader>
		<variable name="validation.pre.port.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.server.port},${jboss.web.service.port}"/>
		<variable name="validation.post.http.list" value="${jboss.server.port}"/>
		<variable name="validation.post.socket.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.web.service.port}"/>
	</panel>
	<!-- Upgrade container.database -->
	<panel order="6">
		<field type="title" txt="Reading property values from installations specified in previous screen." bold="true" size="1" />
		<panelreader classname="pre-install/install.xml" methodname="upgrade:database:init" language="ant">
			<inpropertymap inpropertyname="application.base.path" inpropertyvalue="application.base.path"/>
			<inpropertymap inpropertyname="jboss.home" inpropertyvalue="jboss.home"/>
			<inpropertymap inpropertyname="jboss.server.name" inpropertyvalue="jboss.server.name"/>
			<propertymap propertyname="authentication.type" mapname="authentication.type"/>
			<propertymap propertyname="database.name" mapname="database.name"/>
			<propertymap propertyname="database.password" mapname="database.password"/>
			<propertymap propertyname="database.port" mapname="database.port"/>
			<propertymap propertyname="database.schema" mapname="database.schema"/>
			<propertymap propertyname="database.server" mapname="database.server"/>
			<propertymap propertyname="database.type" mapname="database.type"/>
			<propertymap propertyname="database.url" mapname="database.url"/>
			<propertymap propertyname="database.user" mapname="database.user"/>
		</panelreader>
		<variable name="validation.pre.port.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.server.port},${jboss.web.service.port}"/>
		<variable name="validation.post.http.list" value="${jboss.server.port}"/>
		<variable name="validation.post.socket.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.web.service.port}"/>
	</panel>
	<!-- Jboss Configuration -->
	<panel order="7">
		<field type="title" txt="JBoss Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="As part of this installation, JBoss will be installed in ${UserPathPanelVariable}/${jboss.binaries.relative.dir}.  It will be configured based on the values you enter below and on the following screens.  NOTE: The Hostname below (and on other panels of this installer) is the host name accesible from this machine and others on the local network. To access this JBoss application server from the Internet, you may need to provide the ports below and on the following page to your Network administrator to allow access through the firewall."/>
		<field type="divider" align="top"/>
		<field type="text" align="left" variable="jboss.server.hostname">
			<spec txt="Hostname of this Server:" size="25" set="$HOST_NAME"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Hostname of this Server is a required field" />
			<validator class="com.izforge.izpack.util.HostNameValidator" txt="Enter a valid JBoss Host name or the Host is not reachable"/>
		</field>
		<field type="text" variable="jboss.server.name">
			<spec txt="JBoss Server Name (JBoss_HOME/server/JBoss_SERVER_NAME):" size="15" set="default"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" JBoss Server Name (JBoss_HOME/server/JBoss_SERVER_NAME) is a required field" />
		</field>
		<field type="text" variable="jboss.web.user">
			<spec txt="JBoss Web Console User:" size="15" set="admin"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="JBoss web user is a required field" />
		</field>
		<field type="password" align="left" variable="jboss.web.password">
			<spec>
				<pwd txt="JBoss Web Console Password:" size="25" set=""/>
				<pwd txt="Confirm JBoss Web Console Password:" size="25" set=""/>
			</spec>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="JBoss Web Console Passwords are required fields" />
			<validator class="com.izforge.izpack.util.PasswordEqualityValidator" txt="Passwords do not match. Please re-enter your JBoss Web Console passwords"/>
		</field>
		<field type="text" variable="jboss.java.opts">
			<spec txt="JBoss Server JAVA_OPTS:" size="135" set="-server -Xms256m -Xmx512m -XX:ThreadStackSize=128 -XX:SurvivorRatio=10 -XX:PermSize=128m -XX:MaxPermSize=128m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Djava.awt.headless=true"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="JBoss Server JAVA_OPTS is a required field" />
		</field>


		<field type="text" variable="jboss.server.port">
			<spec txt="JBoss HTTP Port:" size="5" set="30210"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The HTTP port number is already in use"/>
		</field>
		<field type="text" variable="jboss.server.jndi.port">
			<spec txt="JBoss JNDI Port:" size="5" set="30200"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JNDI port number is already in use"/>
		</field>
		<field type="text" variable="jboss.server.rmi.port">
			<spec txt="JBoss RMI Port:" size="5" set="30230"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss RMI port number is already in use"/>
		</field>

		<field type="text" variable="jboss.ejbinvoker.port">
			<spec txt="JBoss EJBInvoker Port:" size="5" set="30150"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The ejbinvoker port number is already in use"/>
		</field>

		<field type="text" variable="jboss.cobraorb.port">
			<spec txt="JBoss CORBAORG port:" size="5" set="30350"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The cobraorb port number is already in use"/>
		</field>

		<field type="text" variable="jboss.hajndi.port">
			<spec txt="JBoss hajndi port:" size="5" set="30160"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The hajndi port number is already in use"/>
		</field>

		<field type="text" variable="jboss.hajrmi.port">
			<spec txt="JBoss hajrmi port:" size="5" set="30260"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The hajrmi port number is already in use"/>
		</field>

		<field type="text" variable="jboss.jms.port">
			<spec txt="JBossJMSport:" size="5" set="30170"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="TheJBossJMSportnumberisalreadyinuse"/>
		</field>


		<!-- Not sure we ant to prompt for these, this page is so big already --> 
		<variable name="log4j.maxFileSize" value="100MB"/>
		<variable name="log4j.maxDays" value="7"/>
		<variable name="log4j.level" value="WARN"/>

	</panel>

	<!-- Jboss Continued -->
	<panel order="8">
		<field type="title" txt="JBoss Configuration continued" bold="true" size="1" />
		<field type="divider" align="top"/>

		<field type="text" variable="jboss.jmx-rmi.port">
			<spec txt="JBoss jmx-rmi port:" size="5" set="30290"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss jmx-rmi port number is already in use"/>
		</field>

		<field type="text" variable="jboss.messaging.port">
			<spec txt="JBoss messaging port:" size="5" set="30330"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss messaging port number is already in use"/>
		</field>

		<field type="text" variable="jboss.pooledha.port">
			<spec txt="JBoss pooledha port:" size="5" set="30270"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss pooledha port number is already in use"/>
		</field>

		<field type="text" variable="jboss.remoting.port">
			<spec txt="JBossremotingport:" size="5" set="30320"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="TheJBossremotingportnumberisalreadyinuse"/>
		</field>    

		<field type="text" variable="jboss.server.bind.port">
			<spec txt="JBoss bind port:" size="5" set="0"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss bind port number is already in use"/>
		</field>

		<field type="text" variable="jboss.service.rmiobject.port">
			<spec txt="JBoss rmiobject port:" size="5" set="30240"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss rmiobject port number is already in use"/>
		</field>


		<field type="text" variable="jboss.snmp-trapd.port">
			<spec txt="JBoss snmp-trapd port:" size="5" set="30300"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss snmp-trapd port number is already in use"/>
		</field>

		<field type="text" variable="jboss.snmp.port">
			<spec txt="JBoss SNMP port:" size="5" set="30310"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss SNMP port number is already in use"/>
		</field>

		<field type="text" variable="jboss.web.service.port">
			<spec txt="JBoss web service port:" size="5" set="30250"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="The JBoss web service port number is already in use"/>
		</field>

		<field type="text" variable="jboss.unifiedinvoker.port">
			<spec txt="JBoss Unified Invoker Port" size="5" set="30360"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Unified Invoker port number is already in use"/>
		</field>

		<field type="text" variable="jboss.hajndi.auto.port">
			<spec txt="JBoss hajndi Auto Discovery Port" size="5" set="30370"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss hajndi Auto Discovery port number is already in use"/>
		</field>

		<field type="text" variable="jboss.ssl.port">
			<spec txt="JBoss SSL" size="5" set="30380"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss SSL port number is already in use"/>
		</field>

		<field type="text" variable="jboss.jms2.netty.port">
			<spec txt="JBoss Messaging 2.x HTTP port" size="5" set="30390"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Messaging 2.x HTTP port number is already in use"/>
		</field>

		<field type="text" variable="jboss.jms2.netty.port">
			<spec txt="JBoss Messaging 2.x HTTP port" size="5" set="30390"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Messaging 2.x HTTP port number is already in use"/>
		</field>

		<field type="text" variable="jboss.jms2.netty-ssl.port">
			<spec txt="JBoss Messaging 2.x SSL port" size="5" set="30400"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Messaging 2.x SSL port number is already in use"/>
		</field>

		<field type="text" variable="jboss.transaction.recovery.port">
			<spec txt="JBoss Transaction Recovery port" size="5" set="30410"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Transaction Recovery port number is already in use"/>
		</field>

		<field type="text" variable="jboss.transaction.status.port">
			<spec txt="JBoss Transaction Status port" size="5" set="30420"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Transaction Status port number is already in use"/>
		</field>

		<field type="text" variable="jboss.transaction.processid.port">
			<spec txt="JBoss Transaction Process ID port" size="5" set="30430"/>
			<validator class="com.izforge.izpack.util.PortValidator" txt="JBoss Transaction Process ID port number is already in use"/>
		</field>

	</panel>
	<!--
		<field type="text" variable="">
			<spec txt=""  size="" set=""/>
			<validator class="com.izforge.izpack.util.PortValidator" txt=""/>
		</field>
	-->

	<!-- Jboss SSL 0.9.0 -->
	<panel order="9">
		<field type="title" txt="JBoss Security Listener Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="For JBoss SSL and Secure Grid configuration requires that you have requested and retrieved certificates already.  See https://wiki.nci.nih.gov/x/7xWy for details on SSL, see https://wiki.nci.nih.gov/x/8BWy for details on Secure Grid."/>
		<field type="divider" align="top"/>

		<field type="radio" variable="jboss.ssl.enable">
			<description align="left" txt="Enable JBoss SSL Port (note requires SSL Certificate Keystore and Internet facing DNS) "/>
			<spec>
				<choice txt="True"  value="true" />
				<choice txt="False" value="false" set="true"/>
			</spec>
		</field>
		<field type="text" variable="jboss.ssl.keystore.location">
			<spec txt="Keystore file location: "  size="75" set=""/>
		</field>
		<field type="password" align="left" variable="jboss.ssl.keystore.pass">
			<spec>
				<pwd txt="Keystore file password:" size="25" set=""/>
				<pwd txt="Confirm keystore file password:" size="25" set=""/>
			</spec>
			<validator class="com.izforge.izpack.util.PasswordEqualityValidator" txt="Passwords do not match. Please re-enter your passwords."/>
		</field>
		<field type="text" variable="jboss.ssl.keystore.alias">
			<spec txt="Keystore alias name: "  size="25" set=""/>
		</field>
		<field type="text" variable="jboss.ssl.fullyqualified.hostname">
			<spec txt="Fully Qualified Host Name (FQHN) (ie, www.mydomain.com): "  size="50" set=""/>
		</field>
		<field type="space" align="top"/>
		<field type="staticText" align="left" txt="For JBoss Grid SSL Port, values not required if not using."/>
		<field type="divider" align="top"/>
		<field type="radio" variable="jboss.grid.secure.enable">
			<description align="left" txt="Enable secure Grid"/>
			<spec>
				<choice txt="True"  value="true" />
				<choice txt="False" value="false" set="true"/>
			</spec>
		</field>
		<field type="radio" variable="jboss.http-connector.remove">
			<description align="left" txt="Remove HTTP Port"/>
			<spec>
				<choice txt="True"  value="true" />
				<choice txt="False" value="false" set="true"/>
			</spec>
		</field>
		<field type="text" variable="jboss.grid.secure.port">
			<spec txt="Port to run the Grid service on JBoss:"  size="5" set="30500"/>
		</field>
		<field type="text" variable="jboss.grid.secure.cert.location">
			<spec txt="caGrid certificate file location: "  size="75" set=""/>
		</field>
		<field type="text" variable="jboss.grid.secure.key.location">
			<spec txt="caGrid private key file location: "  size="75" set=""/>
		</field>

	</panel>
	<!-- External host stuff for Jboss -->
	<panel order="10">
		<field type="title" txt="JBoss External Hostname Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="For JBoss External Hostname configurations see https://wiki.nci.nih.gov/x/8hWy, values not required if not externally accessible"/>
		<field type="divider" align="top"/>
		<field type="text" variable="jboss.external.ssl.host">
			<spec txt="External Host Name for ssl port (generally same as FQHN): "  size="50" set=""/>
		</field>
		<field type="text" variable="jboss.external.ssl.port">
			<spec txt="External Port for ssl port"  size="5" set=""/>
		</field>
		<field type="text" variable="jboss.external.http.host">
			<spec txt="External Host Name for http port (generally same as FQHN): "  size="50" set=""/>
		</field>
		<field type="text" variable="jboss.external.http.port">
			<spec txt="External Port for http port"  size="5" set=""/>
		</field>
		<field type="text" variable="jboss.external.grid.secure.host">
			<spec txt="Grid External Hostname:" size="25" set=""/>
		</field>

		<field type="text" variable="jboss.external.grid.secure.port">
			<spec txt="Grid External Port Number:" size="5" set=""/>
		</field>

		<variable name="validation.pre.port.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.server.port},${jboss.web.service.port}"/>
		<variable name="validation.post.http.list" value="${jboss.server.port}"/>
		<variable name="validation.post.socket.list" value="${jboss.server.rmi.port},${jboss.server.jndi.port},${jboss.service.rmiobject.port},${jboss.web.service.port}"/>

	</panel>

	<!-- Authentication Type -->
	<panel order="11">
		<field type="title" txt="Authentication Type" bold="true" size="1" />
		<field type="staticText" align="left" txt="There are two types of ways to authenticate users: against database or using an LDAP server. To connect to LDAP, you must have an LDAP server available in your network."/>
		<field type="divider" align="top"/>
		<field type="radio" variable="authentication.type">
			<description align="left" txt="Which kind of authentication do you want to use?"/>
			<spec>
				<choice txt="Database" value="db" set="true" />
				<choice txt="LDAP" value="ldap"/>
			</spec>
		</field>
		<variable name="ldap.basedn" value=""/>
		<variable name="ldap.url" value=""/>
	</panel>

	<!-- Ldap data entry -->
	<panel order="12">
			<field type="title" txt="LDAP Configuration" bold="true" size="1" />
			<field type="staticText" align="left" txt="Choose the URL for the LDAP server and the Base DN for authenticating users."/>
			<field type="divider" align="top"/>
			<field type="text" variable="ldap.url">
				<spec txt="LDAP URL:" size="25" set="ldaps://localhost:636"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" LDAP URL is a required field" />
			</field>
			<field type="text" variable="ldap.basedn">
				<spec txt="LDAP Search Base DN:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" LDAP Search Base DN is a required field" />
			</field>
	</panel>

	<!-- Database Properties -->
	<panel order="13">
		<field type="title" txt="Database Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="The information you enter below will connect you to an existing database. It's highly recommended that 'Database Host Name' NOT be the machine from which you are currently installing. The 'Database User' must have full access to 'Database Name'. It's highly recommended you contact your database administrator to obtain this information. NOTE: All database objects for 'Database Name' will be dropped and recreated during the installation process, but will be preserved during database.  In either case we recommend backing up your database before proceeding."/>
		<field type="divider" align="top"/>

		<variable name="install.path" value="$INSTALL_PATH"/>
		<variable name="baseDir" value="$INSTALL_PATH"/>

		<field type="text" variable="database.server">
			<spec txt="Database Host Name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.HostNameValidator" txt="Enter a valid Host name or the Host is not reachable"/>
		</field>
		<field type="text" variable="database.port">
			<spec txt="Database Port:" size="25" set="3306"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Database Port is a required field" />
		</field>
		<field type="text" variable="database.name">
			<spec txt="Database Name:" size="25" set="bda"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Database Name is a required field" />
		</field>
		<field type="text" variable="database.user">
			<spec txt="Database Application User:" size="25" set="bdauser"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Database Application User is a required field" />
		</field>
		<field type="password" allign="left" variable="database.password">
			<spec>
				 <pwd txt="Database Application User Password:" size="25" set=""/>
			</spec>
			<validator class="com.izforge.izpack.util.DBConnectionValidator" txt="Unable to connect to this database with the Database Application User and Password you have entered."/>
		</field>
	</panel>

	<!-- Global Configuraiton Options -->
	<panel order="14">
		<field type="title" txt="Global Settings" bold="true" size="1" />
		<field type="staticText" align="left" txt="These options are for properties that may be used by multiple applications."/>
		<field type="divider" align="top"/>
		<field type="text" variable="mail.smtp.server">
			<spec txt="SMTP Relay Host:" size="25" set="localhost"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" SMTP Relay Host is a required field" />
		</field>
	</panel>

	<!-- Grid Global Configuration -->
	<panel order="15">
		<field type="title" txt="Grid Resource Locations Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="These options are for configuring Grid Resource Locations."/>
		<field type="divider" align="top"/>
		<field type="text" variable="grid.index.url">
			<spec txt="Grid Index Url:" size="35" set="http://cagrid-index.nci.nih.gov:8080/wsrf/services/DefaultIndexService"/>
			<validator class="com.izforge.izpack.util.URLCheckValidator" txt="Please enter a valid Index URL"/>
		</field>
		<field type="radio" variable="grid.target">
			<description align="left" txt="Which Grid do you want to Sync Certificates with?"/>
			<spec>
				<choice txt="Production" value="nci_prod-1.3" set="true" />
				<choice txt="QA" value="nci_qa-1.3"/>
				<choice txt="Staging" value="nci_stage-1.3"/>
				<choice txt="Training" value="training-1.3"/>
			</spec>
		</field>
	</panel>

	<!-- Grid Research Center -->
	<panel order="16">
		<field type="title" txt="Grid Research Center Info" bold="true" size="1" />
		<field type="staticText" align="left" txt="These options are for configuring contact/location information about your Research center."/>
		<field type="divider" align="top"/>
		<field type="text" variable="grid.poc.tech.researchCenter.displayname">
			<spec txt="Research Center Display Name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Research Center Display Name is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.researchCenter.shortname">
			<spec txt="Research Center Short Name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Research Center Short Name is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.addr.street1">
			<spec txt="Street Address line 1:" size="35" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Street Address line 1 is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.addr.street2">
			<spec txt="Street Address line 2:" size="35" set=""/>
		</field>
		<field type="text" variable="grid.poc.tech.addr.locality">
			<spec txt="Locality:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Locality is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.addr.stateProvince">
			<spec txt="State:" size="2" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" State is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.addr.postalCode">
			<spec txt="Zip code:" size="10" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Zip code is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.addr.country">
			<spec txt="Country:" size="25" set="USA"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Country is a required field" />
		</field>
	</panel>

	<!-- Grid Tech Contact -->
	<panel order="17">

		<field type="title" txt="Grid Tech Contact Info" bold="true" size="1" />
		<field type="staticText" align="left" txt="These options are for configuring contact information for your Tech Contact."/>
		<field type="divider" align="top"/>

		<field type="text" variable="grid.poc.tech.affiliation">
			<spec txt="Tech Contact Affiliation:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Tech Contact Affiliation is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.name.last">
			<spec txt="Last name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Last name is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.name.first">
			<spec txt="First name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" First name is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.phone">
			<spec txt="Phone Number:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Phone Number is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.email">
			<spec txt="Email Address:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Email Address is a required field" />
		</field>
		<field type="text" variable="grid.poc.tech.role">
			<spec txt="Role:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Role is a required field" />
		</field>
	</panel>

	<!-- Grid Science Contact -->
	<panel order="18">
		<field type="title" txt="Grid Science Contact Info" bold="true" size="1" />
		<field type="staticText" align="left" txt="These options are for configuring contact information Science Contact."/>
		<field type="divider" align="top"/>
		<field type="text" variable="grid.poc.science.affiliation">
			<spec txt="Science Contact Affiliation :" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Science Contact Affiliation  is a required field" />
		</field>
		<field type="text" variable="grid.poc.science.name.last">
			<spec txt="Last name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Last name is a required field" />
		</field>
		<field type="text" variable="grid.poc.science.name.first">
			<spec txt="First name:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" First name is a required field" />
		</field>
		<field type="text" variable="grid.poc.science.phone">
			<spec txt="Phone Number:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Phone Number is a required field" />
		</field>
		<field type="text" variable="grid.poc.science.email">
			<spec txt="Email Address:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Email Address is a required field" />
		</field>
		<field type="text" variable="grid.poc.science.role">
			<spec txt="Role:" size="25" set=""/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt=" Role is a required field" />
		</field>
	</panel>


	<!-- Tomcat Base Config 0.9.0 -->
	<panel order="19">
		<field type="title" txt="Tomcat Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="As part of this installation, Tomcat will be installed in ${UserPathPanelVariable}/${tomcat.binaries.relative.dir}.  It will be configured based on the values you enter below and on the following screens.  NOTE: The Hostname below (and on other panels of this installer) is the host name accesible from this machine and others on the local network. To access this Tomcat application server from the Internet, you may need to provide the ports below and on the following page to your Network administrator to allow access through the firewall."/>
		<field type="divider" align="top"/>
		<field type="text" align="left" variable="tomcat.relative.path">
			<spec txt="Relative Directory for Tomcat (relative from ${UserPathPanelVariable}):" size="25" set="${tomcat.binaries.relative.dir}"/>
			<validator class="com.izforge.izpack.util.NotEmptyValidator" txt="Enter a value for Relative Directory for Tomcat (relative from ${UserPathPanelVariable})" />
		</field>
		<field type="text" align="left" variable="tomcat.hostname">
			<spec txt="Hostname of this Server:" size="20" set="$HOST_NAME"/>
			<validator
				class="com.izforge.izpack.util.HostNameValidator" txt="Enter a valid Host name or the Host is not reachable">
			</validator>
		</field>
		<field type="text" variable="tomcat.port.http">
			<spec txt="Tomcat HTTP port:" size="5" set="21080"/>
			<validator
				class="com.izforge.izpack.util.PortValidator" txt="The http port number is already in use">
			</validator>
		</field>
		<field type="text" variable="tomcat.port.ajp">
			<spec txt="Tomcat AJP port:" size="5" set="21009"/>
			<validator
				class="com.izforge.izpack.util.PortValidator" txt="The port number is already in use">
			</validator>
		</field>
		<field type="text" variable="tomcat.port.ssl">
			<spec txt="Tomcat Re-direct port:" size="5" set="21443"/>
			<validator
				class="com.izforge.izpack.util.PortValidator" txt="The http port number is already in use">
			</validator>
		</field>
		<field type="text" variable="tomcat.port.shutdown">
			<spec txt="Tomcat Shutdown port:" size="5" set="21005"/>
			<validator
				class="com.izforge.izpack.util.PortValidator" txt="The http port number is already in use">
			</validator>
		</field>
	</panel>

	<!-- Tomcat SSL 0.9.0 -->
	<panel order="20">
		<field type="title" txt="Tomcat Secure Listener Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="For Tomcat SSL and Secure Grid configuration requires that you have requested and retrieved certificates already.  See https://wiki.nci.nih.gov/x/7xWy for details on SSL, see https://wiki.nci.nih.gov/x/8BWy for details on Secure Grid."/>
		<field type="divider" align="top"/>

		<field type="radio" variable="tomcat.ssl.enable">
			<description align="left" txt="Enable Tomcat SSL Port (note requires SSL Certificate Keystore and Internet facing DNS "/>
			<spec>
				<choice txt="True"  value="true" />
				<choice txt="False" value="false" set="true"/>
			</spec>
		</field>
		<field type="text" variable="tomcat.ssl.keystore.location">
			<spec txt="Keystore file location: "  size="75" set=""/>
		</field>
		<field type="password" align="left" variable="tomcat.ssl.keystore.pass">
			<spec>
				<pwd txt="Keystore file password:" size="25" set=""/>
				<pwd txt="Confirm keystore file password:" size="25" set=""/>
			</spec>
			<validator class="com.izforge.izpack.util.PasswordEqualityValidator" txt="Passwords do not match. Please re-enter your passwords."/>
		</field>
		<field type="text" variable="tomcat.ssl.keystore.alias">
			<spec txt="Keystore alias name: "  size="25" set=""/>
		</field>
		<field type="text" variable="tomcat.ssl.fullyqualified.hostname">
			<spec txt="Fully Qualified Host Name (FQHN) (ie, www.mydomain.com): "  size="50" set=""/>
		</field>
		<field type="space" align="top"/>
		<field type="staticText" align="left" txt="For Tomcat Grid SSL Port, values not required if not used."/>
		<field type="divider" align="top"/>
		<field type="radio" variable="tomcat.grid.secure.enable">
			<description align="left" txt="Enable secure Grid"/>
			<spec>
				<choice txt="True"  value="true" />
				<choice txt="False" value="false" set="true"/>
			</spec>
		</field>
		<field type="radio" variable="tomcat.http-connector.remove">
			<description align="left" txt="Remove HTTP Port"/>
			<spec>
				<choice txt="True"  value="true" />
				<choice txt="False" value="false" set="true"/>
			</spec>
		</field>
		<field type="text" variable="tomcat.grid.secure.port">
			<spec txt="Port to run the Grid service on Tomcat:"  size="5" set="21444"/>
		</field>
		<field type="text" variable="tomcat.grid.secure.cert.location">
			<spec txt="caGrid certificate file location: "  size="75" set=""/>
		</field>
		<field type="text" variable="tomcat.grid.secure.key.location">
			<spec txt="caGrid private key file location: "  size="75" set=""/>
		</field>

	</panel>
	<!-- External Host stuff for Tomcat -->
	<panel order="21">
		<field type="title" txt="Tomcat External Hostname Configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="For Tomcat External Hostname configurations see https://wiki.nci.nih.gov/x/8hWy, values not required if not externally accessible"/>
		<field type="divider" align="top"/>
		<field type="text" variable="tomcat.external.ssl.host">
			<spec txt="External Host Name for ssl port(generally same as FQHN): "  size="50" set=""/>
		</field>
		<field type="text" variable="tomcat.external.ssl.port">
			<spec txt="External Port for ssl port"  size="5" set=""/>
		</field>
		<field type="text" variable="tomcat.external.http.host">
			<spec txt="External Host Name for http port (generally same as FQHN): "  size="50" set=""/>
		</field>
		<field type="text" variable="tomcat.external.http.port">
			<spec txt="External Port for http port"  size="5" set=""/>
		</field>
		<field type="text" variable="tomcat.external.grid.secure.host">
			<spec txt="Grid External Hostname:" size="25" set=""/>
		</field>

		<field type="text" variable="tomcat.external.grid.secure.port">
			<spec txt="Grid External Port Number:" size="5" set=""/>
		</field>

	</panel>
	<!-- Jar Signing 1.5.0 -->
	<!-- If you are signing jars for Java Web Starts then you may want to add com.izforge.izpack.util.PasswordEqualityValidator to each of the fields below.
	-->
	<panel order="22">
		<field type="title" txt="Jar Signging configuration" bold="true" size="1" />
		<field type="staticText" align="left" txt="This application can sign jars.  This page allows you to use your own java keystore to sign the jars or to have a self-signed one generated for you.  If you have an existing one put the full path to the file, the alias and password."/>
		<field type="divider" align="top"/>

		<field type="radio" variable="jar-signing.execution.time">
			<description align="left" txt="If or when to sign jars"/>
			<spec>
				<choice txt="Disabled"  value="false" set="true"/>
				<choice txt="InstallTime" value="install"/>
			</spec>
		</field>
		<field type="radio" variable="jar-signing.generate-selfsigned">
			<description align="left" txt="Auto generate the certificate"/>
			<spec>
				<choice txt="False"  value="false" set="true"/>
				<choice txt="True" value="true"/>
			</spec>
		</field>
		<field type="text" variable="jar-signing.keystore.location">
			<spec txt="Keystore file location: "  size="75" set=""/>
		</field>
		<field type="text" variable="jar-signing.keystore.alias">
			<spec txt="Keystore alias: "  size="75" set=""/>
		</field>
		<field type="password" align="left" variable="jar-signing.keystore.password">
			<spec>
				<pwd txt="Jar-signing Keystore Password:" size="25" set=""/>
				<pwd txt="Jar-signing Keystore Password Confirm:" size="25" set=""/>
			</spec>
			<validator class="com.izforge.izpack.util.PasswordEqualityValidator" txt="Passwords do not match. Please re-enter your passwords."/>
		</field>
	</panel>
	<panel order="23">
		<field type="title" txt="Installation Summary" bold="true" size="1" />
		<field type="staticText" align="left" txt="Below are "/>
		<field type="divider" align="top"/>

		<field type="staticText" align="left" txt="JBoss Home [${UserPathPanelVariable}/${jboss.binaries.relative.dir}] - This is where JBoss is installed."/>
		<field type="space"/>
		<field type="staticText" align="left" txt="JBoss Server Name [${jboss.server.hostname}] - This is the hostname where jboss is running.  If you want to make this Application avaliable from the internet you may need to provide this to your network administrator."/>
		<field type="space"/>
		<field type="staticText" align="left" txt="JBoss Server Port [${jboss.server.port}] - This is the HTTP port for JBoss.  If you want to make this Application avaliable from the internet you may need to provide this to your network administrator."/>
		<field type="space"/>
		<field type="staticText" align="left" txt="JBoss URL [http://${jboss.server.hostname}:${jboss.server.port}/bda-blueprints-webapp] - This will be the url to reach your application when the install is finished."/>
		<field type="space"/>
		<field type="staticText" align="left" txt="JBoss Log Dir [${UserPathPanelVariable}/${jboss.binaries.relative.dir}/server/${jboss.server.name}] - This is where the logs can be found."/>

		<field type="space"/>
		<field type="staticText" align="left" txt="Database URL [jdbc:mysql://${database.server}:${database.port}/${database.name}] "/>
		<field type="space"/>
		<field type="staticText" align="left" txt="Database User [${database.user}] "/>
	</panel>
</userInput>
